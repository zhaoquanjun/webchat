webpackJsonp([2,0],{0:function(t,e,s){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var i=s(17),o=a(i),r=s(539),c=a(r);s(561);var u=s(594),l=a(u),f=s(466),d=a(f),A=s(77),g=n(A),h=s(96);s(239),s(573),o.default.use(c.default),new o.default({store:g.default,router:d.default,render:function(t){return t(l.default)},created:function(){(0,h.getCxt)().createIo(this,function(){g.busCxt.init()})}}).$mount("#app")},38:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function i(t,e){return r.merge(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Keys=void 0,e.merge=i;var o=s(576),r=a(o),c=s(474),u=n(c);e.Keys=u.default},77:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(){return v}Object.defineProperty(e,"__esModule",{value:!0}),e.busCxt=void 0,e.getBusCxt=a;var i=s(80),o=n(i),r=s(17),c=n(r),u=s(472),l=n(u),f=s(473),d=n(f),A=s(471),g=n(A),h=s(469),m=n(h),v=new m.default,C=new l.default,p=new d.default(v.userCxt),_=new g.default,y={state:null,getters:null,mutations:null,actions:null};C.use(y),p.use(y),_.use(y),c.default.use(o.default);var E=new o.default.Store(y);e.default=E;e.busCxt=v},96:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function i(){return null==d&&(d=new u.default(f,l,r)),d}Object.defineProperty(e,"__esModule",{value:!0}),e.getCxt=i;var o=s(585),r=a(o),c=s(467),u=n(c),l=s(468),f="http://101.201.152.97:9501",d=null},466:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(17),i=n(a),o=s(608),r=n(o),c=s(599),u=n(c),l=s(600),f=n(l);i.default.use(r.default);var d=new r.default({mode:"hash",routes:[{path:"/",component:f.default},{path:"/chat",component:u.default}]});e.default=d},467:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(64),i=n(a),o=s(65),r=n(o),c=function(){function t(e,s,n){(0,i.default)(this,t),this.url=e,this.io=n,this.keys=s,this.vm=null,this.socket=null,this.to_user_name=null,this.roomInfo=null,this.from_user_name=null,this.fromAvator=null,this.toAvator=null}return(0,r.default)(t,[{key:"setInfo",value:function(t,e,s,n){this.to_user_name=t,this.from_user_name=e,this.fromAvator=n,this.toAvator=s}},{key:"createIo",value:function(t){this.vm=t;var e=this.io.connect(this.url);this.socket=e}},{key:"getCode",value:function(t){this.socket.on(this.keys.client.getCode,function(e){t(e)})}},{key:"loginSuccess",value:function(t){this.socket.on(this.keys.client.loginSuccess,function(e){t(e)})}},{key:"getFriendsInfo",value:function(t){this.socket.on(this.keys.client.getFriendsInfo,function(e){t(e)})}},{key:"getMsg",value:function(t){this.socket.on(this.keys.client.getMsg,function(e){t(e)})}},{key:"getImgList",value:function(t){this.socket.on(this.keys.client.getImgList,function(e){console.log(e),t(e)})}},{key:"sendMsg",value:function(t){this.socket.emit(this.keys.client.newMsg,t)}},{key:"addGroup",value:function(t){this.socket.emit(this.keys.client.addGroup,t)}},{key:"getAddResult",value:function(t){this.socket.on(this.keys.client.getAddResult,function(e){t(e)})}},{key:"sendRequestForAvator",value:function(t){this.socket.emit(this.keys.client.sendRequestForAvator,t)}},{key:"getAvatorList",value:function(t){this.socket.on(this.keys.client.getAvatorList,function(e){t(e)})}},{key:"disconnect",value:function(t){this.socket.on(this.keys.connect.disconnect,function(e){t(e)})}},{key:"error",value:function(t){this.socket.on(this.keys.connect.err_message,function(e){t(e)})}}]),t}();e.default=c},468:function(t,e){"use strict";t.exports={client:{newMsg:"send_message",getMsg:"new_message_from_server",getCode:"qr_code_from_server",getFriendsInfo:"contact_list_from_server",loginSuccess:"login_success_from_server",getImgList:"homework_img_from_server",addGroup:"modify_favorite",getAddResult:"modify_favorite_result_from_server",sendRequestForAvator:"get_avatar_list",getAvatorList:"avatar_list_from_server"},connect:{disconnect:"disconnect",err_message:"error_message_from_server"}}},469:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(64),i=n(a),o=s(65),r=n(o),c=s(96),u=s(470),l=n(u),f=function(){function t(){(0,i.default)(this,t),this.servicesCxt=(0,c.getCxt)(),this.msgCxt=new l.default(this.servicesCxt)}return(0,r.default)(t,[{key:"init",value:function(){this.userCxt.init(),this.msgCxt.init()}}]),t}();e.default=f},470:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(64),i=n(a),o=s(65),r=n(o),c=s(38),u=function(){function t(e){(0,i.default)(this,t),this.cxt=e}return(0,r.default)(t,[{key:"init",value:function(){var t=this;this.cxt.reciveMsg(function(e){t.cxt.vm.$store.dispatch(c.Keys.ADDMSG,e)})}},{key:"getCode",value:function(t){this.cxt.getCode(t)}},{key:"loginSuccess",value:function(t){this.cxt.loginSuccess(t)}},{key:"getFriendsInfo",value:function(t){this.cxt.getFriendsInfo(t)}},{key:"getMsg",value:function(t){this.cxt.getMsg(t)}},{key:"getImgList",value:function(t){this.cxt.getImgList(t)}},{key:"sendMsg",value:function(t){console.log(t);var e={avatar_url:t.avator,content:t.content,from_user:t.from_user,owner:t.owner,sender:t.from_user,to_user:t.to_user,type:t.type},s={type:"send_message",data:{to:t.to_user,content:t.content,type:t.type}};this.cxt.vm.$store.dispatch(c.Keys.ADDMSG,e),this.cxt.sendMsg(s)}},{key:"addGroup",value:function(t){var e={type:"modify_favorite",data:t};this.cxt.addGroup(e)}},{key:"getAddResult",value:function(t){this.cxt.getAddResult(t)}},{key:"sendRequestForAvator",value:function(t){var e={type:"get_avatar_list",data:{username_list:t}};this.cxt.sendRequestForAvator(e)}},{key:"getAvatorList",value:function(t){this.cxt.getAvatorList(t)}},{key:"disconnect",value:function(t){this.cxt.disconnect(t)}},{key:"error",value:function(t){this.cxt.error(t)}}]),t}();e.default=u},471:function(t,e,s){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(134),o=a(i),r=s(198),c=a(r),u=s(64),l=a(u),f=s(65),d=a(f),A=s(38),g=n(A),h=function(){function t(){var e=this;(0,l.default)(this,t),this.to_user=null,this.from_user=null,this.db=window.openDatabase("recorddb","1.0","Test DB",10485760),this.insert=function(t){var s="",n=[],a="";for(var i in t)s=s+i+",",n.push(t[i]);s=s.substr(0,s.length-1);for(var o=0,r=n.length;o<r;o++)a+=o<r-1?"?,":"?";e.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS RECORD ("+s+")"),t.executeSql("INSERT INTO RECORD ("+s+") VALUES ("+a+")",n)})},this.select=function(t,s,n){e.db.transaction(function(e){e.executeSql("SELECT * FROM RECORD WHERE ("+t[0]+"  = '"+s[0]+"' and "+t[1]+"  = '"+s[1]+"') OR ("+t[0]+" = '"+s[1]+"' and "+t[1]+" = '"+s[0]+"')",[],function(t,e){console.log((0,c.default)(e.rows)),n.msgs=(0,c.default)(e.rows)},function(t,e){console.log(t,e)})})},this.delete=function(){this.db.transaction(function(t){t.executeSql("DROP TABLE RECORD")})}}return(0,d.default)(t,[{key:"use",value:function(t){this.initStore(t)}},{key:"initStore",value:function(t){var e,s,n,a={msgs:[],userInfo:{},signalFriends:[],chat_to_user:null},i=this,r=(e={},(0,o.default)(e,g.Keys.GETNEWMSG,function(t){return t.msgs}),(0,o.default)(e,g.Keys.SAVEUSERINFO,function(t){return t.userInfo}),(0,o.default)(e,g.Keys.SAVEFRIENDSINFO,function(t){return t.signalFriends}),(0,o.default)(e,g.Keys.GETCHATTO,function(t){return t.chat_to_user}),e),c=(s={},(0,o.default)(s,g.Keys.ADDMSG,function(t,e){""!==e.content&&i.insert(e),i.select(["to_user","from_user"],[i.to_user,i.from_user],t)}),(0,o.default)(s,g.Keys.SAVEUSERINFO,function(t,e){t.userInfo=e}),(0,o.default)(s,g.Keys.CLEARRECORD,function(t){i.delete()}),(0,o.default)(s,g.Keys.SAVEFRIENDSINFO,function(t,e){t.signalFriends=e}),(0,o.default)(s,g.Keys.GETTALKCACHE,function(t,e){var s=e.to_user,n=e.from_user;i.from_user=e.from_user,i.to_user=e.to_user,t.chat_to_user=e.to_user,i.select(["to_user","from_user"],[s,n],t)}),s),u=(n={},(0,o.default)(n,g.Keys.ADDMSG,function(t,e){t.commit(g.Keys.ADDMSG,e)}),(0,o.default)(n,g.Keys.SAVEUSERINFO,function(t,e){t.commit(g.Keys.SAVEUSERINFO,e)}),(0,o.default)(n,g.Keys.CLEARRECORD,function(t){t.commit(g.Keys.CLEARRECORD)}),(0,o.default)(n,g.Keys.SAVEFRIENDSINFO,function(t,e){t.commit(g.Keys.SAVEFRIENDSINFO,e)}),(0,o.default)(n,g.Keys.GETTALKCACHE,function(t,e){t.commit(g.Keys.GETTALKCACHE,e)}),n);t.state=g.merge(t.state,a),t.getters=g.merge(t.getters,r),t.mutations=g.merge(t.mutations,c),t.actions=g.merge(t.actions,u)}}]),t}();e.default=h},472:function(t,e,s){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(64),o=a(i),r=s(65),c=a(r),u=s(134),l=a(u),f=s(38),d=n(f),A={currentRoom:null},g=(0,l.default)({},d.Keys.GETROOMINFO,function(t){return t.currentRoom}),h=(0,l.default)({},d.Keys.SETROOMINFO,function(t,e){t.currentRoom=e}),m=(0,l.default)({},d.Keys.SETROOMINFO,function(t,e){t.commit(d.Keys.SETROOMINFO,e)}),v=function(){function t(){(0,o.default)(this,t)}return(0,c.default)(t,[{key:"use",value:function(t){t.state=d.merge(t.state,A),t.getters=d.merge(t.getters,g),t.mutations=d.merge(t.mutations,h),t.actions=d.merge(t.actions,m)}}]),t}();e.default=v},473:function(t,e,s){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(134),o=a(i),r=s(64),c=a(r),u=s(65),l=a(u),f=s(38),d=n(f),A=function(){function t(e){(0,c.default)(this,t),this.busCxt=e}return(0,l.default)(t,[{key:"use",value:function(t){this.initStroe(t)}},{key:"initStroe",value:function(t){var e,s,n={users:[]},a=(0,o.default)({},d.Keys.GETUSERS,function(t){return t.users}),i=(e={},(0,o.default)(e,d.Keys.ADDUSER,function(t,e){t.users.push(e)}),(0,o.default)(e,d.Keys.REFUSERS,function(t,e){t.users=e}),e),r=(s={},(0,o.default)(s,d.Keys.ADDUSER,function(t,e){t.commit(d.Keys.ADDUSER,e)}),(0,o.default)(s,d.Keys.REFUSERS,function(t,e){t.commit(d.Keys.REFUSERS,e)}),s);t.state=d.merge(t.state,n),t.getters=d.merge(t.getters,a),t.mutations=d.merge(t.mutations,i),t.actions=d.merge(t.actions,r)}}]),t}();e.default=A},474:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADDMSG:"addMsg",GETNEWMSG:"getNewMsg",GETTALKCACHE:"getTalkCache",SAVEUSERINFO:"saveUserInfo",CLEARRECORD:"clearRecord",SAVEFRIENDSINFO:"savaFriendsInfo",GETCHATTO:"getChatTo"}},475:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},476:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(66),i=n(a),o=s(77),r=s(80),c=s(38),u=c.Keys.SAVEUSERINFO,l=c.Keys.SAVEFRIENDSINFO;e.default={props:["imgList"],data:function(){return{maskShow:!1,right:s(593),error:s(592),flagImg:null,ctx:null,canvas:null,curIndex:null,correctLoading:!0}},created:function(){var t=this;setTimeout(function(){t.correctLoading&&(t.correctLoading=!1)},8e3)},computed:(0,i.default)({},(0,r.mapGetters)([u]),(0,r.mapGetters)([l])),methods:{sendPict:function(){var t=this,e=new Image,s=new Image;e.src=this.canvas.toDataURL("image/png"),this.imgList[this.curIndex].url=e.src,1===this.imgList.length?this.closeMask():this.curIndex<this.imgList.length-1?this.curIndex++:this.curIndex=0,s.src=this.imgList[this.curIndex].url,this.ctx.clearRect(0,0,360,500),this.ctx.drawImage(s,0,0,360,500);var n=null;this.savaFriendsInfo?(console.log(this.imgList[this.curIndex].nickname),this.savaFriendsInfo.map(function(e,s){e.nickname===t.imgList[t.curIndex].nickname&&(n=e.username)}),n||this.$alert("没有找到好友~","提示",{confirmButtonText:"确定"})):this.$alert("正在获取信息，请稍后操作","提示",{confirmButtonText:"确定"}),console.log(n);var a={content:e.src,type:"image",owner:this.saveUserInfo.username,to_user:n,from_user:this.saveUserInfo.username,sender:this.saveUserInfo.username,avator:this.saveUserInfo.avatar_url};(0,o.getBusCxt)().msgCxt.sendMsg(a)},closeMask:function(){this.maskShow=!1,this.flagImg&&(this.flagImg.src="")},correctTask:function(t){var e=this;this.maskShow=!0,this.curIndex=t,this.$nextTick(function(){e.initCanvas(t)})},initCanvas:function(t){this.canvas=document.getElementById("canvas");var e=new Image;e.src=this.imgList[t].url,this.ctx=this.canvas.getContext("2d"),this.ctx.globalCompositeOperation="source-over",this.ctx.drawImage(e,0,0,360,500)},getflag:function(t){this.flagImg=new Image,this.flagImg.src=1===t?this.right:this.error},addflag:function(t){if(this.flagImg){var e=t.offsetX,s=t.offsetY;this.ctx.drawImage(this.flagImg,e-10-(175-e)/15,s-18,20,20)}}}}},477:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{headerList:[{name:"今天作业",focus:!0,flag:"today"},{name:"昨天作业",focus:!1,flag:"yestoday"}],selectDay:""}},methods:{choOther:function(){this.selectDay=this.selectDay.getTime()},choNear:function(t,e){this.headerList[t].focus=!0,0===t?this.headerList[1].focus=!1:1===t?this.headerList[0].focus=!1:""}}}},478:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(66),i=n(a),o=s(80),r=s(38),c=r.Keys.GETNEWMSG;e.default={props:["saveUserInfo","avatorCollection"],name:"MsgList",data:function(){return{}},created:function(){},computed:(0,i.default)({},(0,o.mapGetters)([c])),watch:{getNewMsg:function(){var t=this.$refs.chatBox.scrollHeight;t>458&&this.$refs.chatBox.scrollIntoView(!1)}}}},479:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(66),i=n(a),o=s(80),r=s(38),c=s(77),u=r.Keys.GETCHATTO;e.default={props:["chatable","saveUserInfo"],name:"MsgWriter",data:function(){return{db:"",content:"",tipShow:!1,tipMsg:"不能发送空白信息"}},created:function(){},computed:(0,i.default)({},(0,o.mapGetters)([u])),methods:{add:function(){var t=this;if(this.content=this.content.replace(/\ +$/gm,""),this.content=this.content.replace(/[\r\n]$/gm,""),this.content){console.log(this.getChatTo);var e={content:this.content,type:"text",owner:this.saveUserInfo.username,sender:this.saveUserInfo.username,from_user:this.saveUserInfo.username,to_user:this.getChatTo,avator:this.saveUserInfo.avatar_url};(0,c.getBusCxt)().msgCxt.sendMsg(e)}else{if(this.tipShow)return;this.tipShow=!0,setTimeout(function(){t.tipShow=!1},1e3)}this.content=""}}}},480:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(483),i=n(a),o=s(198),r=n(o),c=s(66),u=n(c),l=s(597),f=n(l),d=s(598),A=n(d),g=s(596),h=n(g),m=s(595),v=n(m),C=s(96),p=s(80),_=s(77),y=s(38),E=y.Keys.SAVEUSERINFO;e.default={name:"chat",data:function(){return{group:[],allContacts:[],signalFriends:[],showLlist:[],chatTarget:{name:"用户"},chatable:!1,isOperate:"editor",operateText:"编辑",newMsg_r:{},newMsg_l:{},imgList:[],contactLoading:!0,curGroupIndex:null,avatorReqIndex:30,groupReqList:[],friendAvatorReqList:[],avatorCollection:{},curCommitUser:null,commonAvator:s(590)}},mounted:function(){(0,_.getBusCxt)().msgCxt.getImgList(this.initImgList),(0,_.getBusCxt)().msgCxt.getFriendsInfo(this.initGroupList),(0,_.getBusCxt)().msgCxt.getMsg(this.getMsgFromServer),(0,_.getBusCxt)().msgCxt.getAvatorList(this.getAvatorList)},components:{MsgList:f.default,MsgWr:A.default,CorrectHea:h.default,CorrectCon:v.default},computed:(0,u.default)({},(0,p.mapGetters)([E])),created:function(){this.clearRecord(),this.saveUserInfo||this.$router.push("/"),console.log(this.saveUserInfo)},methods:{initGroupList:function(t){var e=this;console.log(t),this.contactLoading=!1,this.signalFriends=(0,r.default)(new i.default(t.data.friends)),(0,C.getCxt)().vm.$store.dispatch(y.Keys.SAVEFRIENDSINFO,this.signalFriends),this.allContacts=(0,r.default)(new i.default(t.data.friends)),(0,r.default)(new i.default(t.data.groups)).map(function(t,s){1===t.is_favorite?e.group.push(t):e.allContacts.unshift(t),e.groupReqList.push(t.username)}),this.showLlist=this.group[0]?this.group[0].member_list:this.allContacts,this.sendRequestForAvator(this.groupReqList),this.sendRequestForAvator(this.showLlist),this.group.map(function(t,s){e.newMsg_l[t.username]={length:0}}),this.allContacts.map(function(t,s){e.newMsg_r[t.username]={length:0}})},initImgList:function(t){var e=this;t.data.map(function(t,s){e.imgList.push(t)})},getMsgFromServer:function(t){var e=this;console.log(t),this.newMsg_l[t.data.chat_to]?t.data.chat_to===this.curCommitUser?this.newMsg_l[t.data.chat_to].length=0:this.newMsg_l[t.data.chat_to].length++:this.newMsg_r[t.data.chat_to]&&(t.data.chat_to===this.curCommitUser?this.newMsg_r[t.data.chat_to].length=0:this.newMsg_r[t.data.chat_to].length++),"image"===t.data.type&&this.imgList.push({url:t.data.content,nickname:t.data.nickname});var s=null,n=null;"@@"===t.data.chat_to.slice(0,2)?(s=t.data.sender?t.data.sender:t.data.from,this.group.map(function(s,n){s.username===t.data.chat_to&&(e.group.splice(n,1),e.group.unshift(s),console.log(e.group))})):(s=t.data.from,this.showLlist.map(function(s,n){s.username===t.data.chat_to&&(e.showLlist.splice(n,1),e.showLlist.unshift(s))})),n=t.data.chat_to===this.saveUserInfo.username?this.saveUserInfo.avatar_url:this.avatorCollection[s];var a={to_user:t.data.to,from_user:t.data.from,sender:s,type:t.data.type,owner:this.saveUserInfo.username,content:t.data.content,avatar_url:n};(0,C.getCxt)().vm.$store.dispatch(y.Keys.ADDMSG,a)},handleGroup:function(t,e){"editor"===this.isOperate?(this.showLlist=this.group[e].member_list,this.sendRequestForAvator(this.showLlist),this.chatTarget=t,t.type=1,this.group.map(function(t,s){e!==s&&(t.type=0)}),this.showLlist.map(function(t,e){t.type=0}),this.newMsg_l[t.username]?this.newMsg_l[t.username].length=0:""):this.$alert("请完成编辑状态再进行聊天操作！","提示",{confirmButtonText:"确定"}),this.curCommitUser=t.username,(0,C.getCxt)().setInfo(t.username,this.saveUserInfo.username,this.avatorCollection[t.username],this.saveUserInfo.avator_url),(0,C.getCxt)().vm.$store.dispatch(y.Keys.GETTALKCACHE,{from_user:this.saveUserInfo.username,to_user:t.username})},handlePerson:function(t,e){"editor"===this.isOperate?(this.chatTarget=t,t.type=1,this.showLlist.map(function(t,s){s!==e&&(t.type=0)}),this.group.map(function(t,e){t.type=0}),"@@"===t.username.slice(0,2)?this.newMsg_l[t.username]?this.newMsg_l[t.username].length=0:"":this.newMsg_r[t.username]?this.newMsg_r[t.username].length=0:""):this.$alert("请完成编辑状态再进行聊天操作！","提示",{confirmButtonText:"确定"}),this.curCommitUser=t.username,(0,C.getCxt)().setInfo(t.username,this.saveUserInfo.username,this.avatorCollection[t.username],this.saveUserInfo.avatar_url),(0,C.getCxt)().vm.$store.dispatch(y.Keys.GETTALKCACHE,{from_user:this.saveUserInfo.username,to_user:t.username})},sendPicture:function(){},editor:function(){this.showLlist=this.allContacts,this.group.map(function(t,e){t.type=0}),this.showLlist.map(function(t,e){t.type=0}),"editor"===this.isOperate?(this.isOperate="@@",this.operateText="完成"):"@@"===this.isOperate&&(this.isOperate="editor",this.operateText="编辑")},showAllContacts:function(){this.showLlist=this.allContacts,this.sendRequestForAvator(this.showLlist)},add:function(t,e){t.cancelBubble=!0,t.stopPropagation(),this.curGroupIndex=e;var s={modify:"add",type:2,nickname:this.showLlist[e].nickname,username:this.showLlist[e].username};(0,_.getBusCxt)().msgCxt.addGroup(s),(0,_.getBusCxt)().msgCxt.getAddResult(this.monitorAddResult)},clearRecord:function(){(0,C.getCxt)().vm.$store.dispatch(y.Keys.CLEARRECORD)},monitorAddResult:function(t){console.log(t),0===t.data.code?(this.group.push(this.allContacts[this.curGroupIndex]),this.allContacts.splice(this.curGroupIndex,1),console.log(this.group)):this.$alert("添加失败了，请重新添加~","提示",{confirmButtonText:"确定"})},sendRequestForAvator:function(t){var e=this;t.map(function(t,s){e.avatorCollection[t.username]&&e.avatorCollection[t.username]!==e.commonAvator||e.friendAvatorReqList.push(t.username)}),(0,_.getBusCxt)().msgCxt.sendRequestForAvator(this.friendAvatorReqList)},getAvatorList:function(t){var e=this;t.data.map(function(t,s){e.avatorCollection[t.username]&&e.avatorCollection[t.username]!==e.commonAvator||(e.avatorCollection[t.username]=t.avatar_url?t.avatar_url:e.commonAvator)}),console.log(this.avatorCollection)}},watch:{chatTarget:function(){"用户"===this.chatTarget.nickname?this.chatable=!1:this.chatable=!0}}}},481:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(77),a=s(96),i=s(38);e.default={data:function(){return{loading:!0,codeSrc:"",count:0}},created:function(){this.addEvent()},methods:{getLoginCode:function(t){console.log(t),this.count++,this.count>1&&(this.count--,this.$router.push("/"));var e=t.data.qr_code_url;e?this.showLoginCode(e):""},showLoginCode:function(t){t?(this.codeSrc=t,this.loading=!1):this.loading=!0},loginIn:function(t){console.log(t),"login_success"===t.type&&(this.count>1&&this.count--,(0,a.getCxt)().vm.$store.dispatch(i.Keys.SAVEUSERINFO,t.data),this.$router.push("/chat"))},error:function(t){this.$alert(t.data.code+t.data.error_message,"提示",{confirmButtonText:"确定"})},disconnect:function(){this.$router.push("/")},addEvent:function(){(0,n.getBusCxt)().msgCxt.getCode(this.getLoginCode),(0,n.getBusCxt)().msgCxt.loginSuccess(this.loginIn),(0,n.getBusCxt)().msgCxt.disconnect(this.disconnect),(0,n.getBusCxt)().msgCxt.disconnect(this.error)}}}},561:function(t,e){},562:function(t,e){},563:function(t,e){},564:function(t,e){},565:function(t,e){},566:function(t,e){},567:function(t,e){},568:function(t,e){},569:function(t,e){},570:function(t,e){},571:function(t,e){},572:function(t,e){},573:function(t,e){},590:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCACWAJYDASIAAhEBAxEB/8QAGwABAAMBAQEBAAAAAAAAAAAAAAQFBgMBAgn/xAAwEAEAAgECAggDCQEAAAAAAAAAAQIDBBEFMRIVIUFRU3GiE1KhFCMyQmGBsdHhYv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9Ab3tkva1rTa1p3m0zvMy8AAAAAAAAAAAAAAAAAEnQ8S1PDr2tp8s45tG1uyJif2kRgAAAAAAAAAN9zcAAAAAAAAAAAAAAAABcaLhFK0i+ojpXnt6HdHr4ofCsMZtbXeN60jpzH8L8HzWlaRtWtax+kbPL4qZY2vSto/WH2AqOIcKjHScuCJ2jttTn2eMKtq2a1mH7PqsuOOUT2egOIAAAAAAAAAAAAALTgUfeZ5/5iPqt1LwPLFdRkxz+eu8esLoAABRcajbW7+NIXqg4tljJrr7cqRFf7BDAAAAAAAAAAAAAB9Y8lsOSuSk7WrO8NLgzV1OGuWn4bd3hPgzCw4Pqpxaj4M9tMn0kF2BzBw1uqjR6e2T83KseMs3MzMzMzvM9sylcS1U6rU2+SkzWsfzKKAAAAAAAAAAAAACVpOG5tXEWiPh4/nt3+kAirXhXDr0yRnyx0NvwVnn6ym6Xh+HSbTWvSyfPbn/AIkgAApOJcOviyXy44m+K07zEc6/4r2r5Ieq4Xh1O9oj4WT5qx2T6wCgEjVaHNo53vXendevL/EcAAAAAAAAB7Wtr2itYm1rTtER3vE/gtYnWzM84pOwJmj4TTBtfNtky+H5a/2sAAAAAAAA5xMT2xPOJVmt4PW0TfTx0bc5x90+izAZT6CTxOsV1+bbs3nf6IwAAAAAACTw/VRo9TF7RM0mOjbbmjANB1rpfN9snWul832yz4DQda6XzfbJ1rpfN9ss+A0HWul832yda6XzfbLPgNB1rpfN9snWul832yz4DQda6XzfbJPFtLEb/Emf0iss+A66rP8AadRfLt0elPZHhDkAAAAAAAAAAAAAAAAAAAAAAAAAOmowW02oy4bTE2x2mkzHLeJ2cwAAAAAAAAAAAAAAAABZ8D4HbjN8330Ya44jeej0pmZ5dn7SAD//2Q=="},591:function(t,e){t.exports="data:image/png;base64,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"},592:function(t,e,s){t.exports=s.p+"static/img/error.2e3e730.png"},593:function(t,e,s){t.exports=s.p+"static/img/right.d2f4446.png"},594:function(t,e,s){s(562);var n=s(59)(s(475),s(601),null,null);t.exports=n.exports},595:function(t,e,s){s(568),s(567);var n=s(59)(s(476),s(604),"data-v-24c9062a",null);t.exports=n.exports},596:function(t,e,s){s(564),s(563);var n=s(59)(s(477),s(602),"data-v-1b8086ac",null);t.exports=n.exports},597:function(t,e,s){s(569);var n=s(59)(s(478),s(605),"data-v-28005b4c",null);t.exports=n.exports},598:function(t,e,s){s(566),s(565);var n=s(59)(s(479),s(603),"data-v-20ca4aa2",null);t.exports=n.exports},599:function(t,e,s){s(572),s(571);var n=s(59)(s(480),s(607),"data-v-a166f296",null);t.exports=n.exports},600:function(t,e,s){s(570);var n=s(59)(s(481),s(606),"data-v-75d9b15c",null);t.exports=n.exports},601:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"container"}},[s("div",{staticClass:"cont"},[s("router-view")],1)])},staticRenderFns:[]}},602:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"correct-header"},[t._v("\n  批改作业区域\n  ")])},staticRenderFns:[]}},603:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"typeBox"},[s("el-input",{staticClass:"writeBox",attrs:{resize:"none",disabled:!t.chatable,type:"textarea",rows:5},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.add(e):null}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),t.tipShow?s("div",{staticClass:"tip"},[t._v("不能发送空白信息"),s("span")]):t._e(),t._v(" "),s("div",{staticClass:"send-btn"},[s("el-button",{attrs:{disabled:!t.chatable},on:{click:t.add}},[t._v("发 送")])],1)],1)},staticRenderFns:[]}},604:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"relative"}},[n("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.correctLoading,expression:"correctLoading"}],staticClass:"correct-con",attrs:{"element-loading-background":"rgba(0, 0, 0, .1)","element-loading-text":"图片加载中..."}},t._l(t.imgList,function(e,s){return n("li",{key:s,on:{click:function(e){t.correctTask(s)}}},[n("span",[n("img",{attrs:{src:e.url,alt:""}})]),t._v(" "),n("span",[t._v(t._s(e.nickname))])])})),t._v(" "),t.maskShow?n("div",{staticClass:"correct-mask"},[n("div",{staticClass:"close-icon",on:{click:t.closeMask}},[n("img",{attrs:{src:s(591),alt:""}})]),t._v(" "),n("div",{staticClass:"mask-l"},[n("h3",[t._v(t._s(t.imgList[t.curIndex].nickname))]),t._v(" "),n("canvas",{staticClass:"l-task",attrs:{id:"canvas",width:"370px",height:"500px"},on:{click:function(e){
t.addflag(e)}}})]),t._v(" "),n("div",{staticClass:"mask-r"},[n("div",{staticClass:"right_icon icon_my",on:{click:function(e){t.getflag(1)}}},[n("img",{attrs:{src:t.right,alt:""}})]),t._v(" "),n("div",{staticClass:"error_icon icon_my",on:{click:function(e){t.getflag(0)}}},[n("img",{attrs:{src:t.error,alt:""}})]),t._v(" "),n("el-button",{staticClass:"send-btn",attrs:{type:"primary"},on:{click:t.sendPict}},[t._v("发 送")])],1)]):t._e()])},staticRenderFns:[]}},605:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"chatBox",staticClass:"clear"},[s("ul",{staticClass:"msg-cont"},t._l(t.getNewMsg,function(e,n){return s("li",{key:n,staticClass:"clear"},[e.sender===t.saveUserInfo.username?s("span",{staticClass:"message-container",class:{"msg-cont-send":e.sender===t.saveUserInfo.username}},["text"===e.type?s("span",{staticClass:"msg-cont-item"},[t._v(t._s(e.content))]):"image"===e.type?s("span",{staticClass:"img-message"},[s("img",{attrs:{src:e.content,alt:""}})]):t._e(),t._v(" "),s("span",{staticClass:"user-avator"},[s("img",{attrs:{src:e.avatar_url,alt:""}})])]):s("span",{staticClass:"message-container",class:{"msg-cont-receive":e.sender!==t.saveUserInfo.username}},[s("span",{staticClass:"user-avator"},[s("img",{attrs:{src:e.avatar_url,alt:""}})]),t._v(" "),"text"===e.type?s("span",{staticClass:"msg-cont-item"},[t._v(t._s(e.content))]):"image"===e.type?s("span",{staticClass:"img-message"},[s("img",{attrs:{src:e.content,alt:""}})]):t._e()])])}))])},staticRenderFns:[]}},606:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-page"},[s("div",{staticClass:"login-content"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"login-code",attrs:{id:"code","element-loading-background":"rgba(0, 0, 0, 0)","element-loading-text":"登陆二维码加载中..."}},[s("img",{attrs:{src:t.codeSrc,alt:""}})]),t._v(" "),s("p",{staticClass:"tip1"},[t._v("使用手机微信扫码登录")]),t._v(" "),s("p",{staticClass:"tip2"},[t._v("网页版微信需要配合手机使用")])])])},staticRenderFns:[]}},607:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-page clear"},[s("ul",{staticClass:"user-info"},[s("li",{staticClass:"user-avator"},[s("img",{attrs:{src:t.saveUserInfo.avatar_url,alt:""}})]),t._v(" "),s("li",{staticClass:"user-name"},[t._v(t._s(t.saveUserInfo.nickname))]),t._v(" "),s("li",{staticClass:"clear-record",on:{click:t.clearRecord}},[t._v("清空聊天记录")])]),t._v(" "),s("div",{staticClass:"chat-container"},[s("div",{staticClass:"left-slider"},[s("div",{staticClass:"tit pos_t"},[t._v("班级群")]),t._v(" "),s("ul",{staticClass:"friends-list"},t._l(t.group,function(e,n){return s("li",{key:n,staticClass:"friend-item",class:{active:1==e.type},on:{click:function(s){t.handleGroup(e,n)}}},[t.newMsg_l[e.username]&&t.newMsg_l[e.username].length>0?s("span",{staticClass:"badge"},[t._v(t._s(t.newMsg_l[e.username].length))]):t._e(),t._v(" "),s("span",{staticClass:"fri-avator"},[s("img",{attrs:{src:t.avatorCollection[e.username],alt:""}})]),t._v(" "),s("span",{staticClass:"fri-name"},[t._v(t._s(e.remark_name?e.remark_name.slice(0,8):e.nickname.slice(0,8)))])])})),t._v(" "),s("div",{staticClass:"tit pos_b",on:{click:t.showAllContacts}},[t._v("联系人")]),t._v(" "),s("div",{staticClass:"tit pos_t pos_t_r"},[t._v("成员")]),t._v(" "),s("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.contactLoading,expression:"contactLoading"}],staticClass:"chat-list",attrs:{"element-loading-background":"rgba(0, 0, 0, .1)","element-loading-text":"联系人加载中..."}},t._l(t.showLlist,function(e,n){return s("li",{key:n,staticClass:"chat-item",class:{active:1==e.type},on:{click:function(s){t.handlePerson(e,n)}}},[t.newMsg_r[e.username]&&t.newMsg_r[e.username].length>0?s("span",{staticClass:"badge"},[t._v(t._s(t.newMsg_r[e.username].length))]):t._e(),t._v(" "),s("span",{staticClass:"fri-avator"},[s("img",{attrs:{src:t.avatorCollection[e.username],alt:""}})]),t._v(" "),s("span",{staticClass:"fri-name"},[t._v(t._s(e.remark_name?e.remark_name.slice(0,8):e.nickname.slice(0,8))),e.username.slice(0,2)==t.isOperate?s("i",{staticClass:"el-icon-circle-plus",on:{click:function(e){t.add(e,n)}}}):t._e()])])})),t._v(" "),s("div",{staticClass:"tit pos_b pos_b_r",on:{click:t.editor}},[t._v(t._s(t.operateText))])]),t._v(" "),s("div",{staticClass:"chat-content"},[s("p",{staticClass:"chat-user tit"},[t._v(t._s(t.chatTarget.remark_name?t.chatTarget.remark_name:t.chatTarget.nickname))]),t._v(" "),s("div",{staticClass:"msg-list"},[s("msg-list",{attrs:{saveUserInfo:t.saveUserInfo,avatorCollection:t.avatorCollection}})],1),t._v(" "),s("div",{staticClass:"toolbar"}),t._v(" "),s("div",{staticClass:"msg-input"},[s("MsgWr",{attrs:{chatable:t.chatable,saveUserInfo:t.saveUserInfo}})],1)])]),t._v(" "),s("div",{staticClass:"correct"},[s("CorrectHea"),t._v(" "),s("CorrectCon",{attrs:{imgList:t.imgList,signalFriends:t.signalFriends}})],1)])},staticRenderFns:[]}},609:function(t,e){}});
//# sourceMappingURL=app.ccbcefcbf96057adfdd5.js.map